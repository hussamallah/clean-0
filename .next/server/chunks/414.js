"use strict";exports.id=414,exports.ids=[414],exports.modules={8414:(e,s,l)=>{l.d(s,{Z:()=>h});var t=l(577),n=l(1183),i=l(5196),a=l(169);function r(e,s){return e>=4?"High":e<=2?"Low":e>2.75&&e<3.25?"Medium":e>=3.75&&e<4&&s>=1?"High":e>2&&e<=2.25&&s<=-1?"Low":"Medium"}function c(e,s,l,t){let n={...e};for(let{facet:e,answer:i}of t){let t=s[e],a=l[e];t>3.5&&t<4&&a<=0?"Yes"===i?n[e]="High":"No"===i&&(n[e]="Medium"):t>2&&t<2.5&&a>=0&&("No"===i?n[e]="Low":"Yes"===i&&(n[e]="Medium"))}return n}var d=l(1138);function o({domain:e,facet:s,selected:l,onToggle:n,tags:a=[]}){let r=i.I3[e]?.[s]??"";return(0,t.jsxs)("button",{className:`btn-chip${l?" selected":""}`,title:r,onClick:n,children:[t.jsx("b",{children:s}),t.jsx("small",{children:r}),a.length?t.jsx("div",{className:"tags",children:a.map((e,s)=>t.jsx("span",{className:"tag",children:e},s))}):null]})}function h({initialDomain:e,silentOnComplete:s,onComplete:l}){let[o,h]=(0,n.useState)(null),[j,f]=(0,n.useState)(e??null),[p,g]=(0,n.useState)("idle"),[v,b]=(0,n.useState)(null),[N,y]=(0,n.useState)(null),[w,S]=(0,n.useState)(null),[k,M]=(0,n.useState)(null),[C,O]=(0,n.useState)([]),[q,L]=(0,n.useState)(null),[E,A]=(0,n.useState)([]),[z,H]=(0,n.useState)({}),[W,D]=(0,n.useState)({}),[T,$]=(0,n.useState)(0),Y=(0,n.useMemo)(()=>j?(0,i.UX)(j):[],[j]),I=(0,n.useMemo)(()=>{if(!j||!v||!N||!w||!k||!q)return null;let e=(0,i.UX)(j),s=Object.fromEntries(e.map(e=>[e,(0,a.Md)(q[e])])),l=c(Object.fromEntries(e.map(e=>[e,r(q[e],k[e])])),q,k,E),t=e.slice().sort((s,t)=>{let n={High:3,Medium:2,Low:1};return n[l[s]]!==n[l[t]]?n[l[s]]-n[l[t]]:q[t]!==q[s]?q[t]-q[s]:k[t]!==k[s]?k[t]-k[s]:e.indexOf(s)-e.indexOf(t)}),n=Math.round(e.reduce((e,s)=>e+q[s],0)/6*100)/100,d=Math.round(10*(0,a.Md)(n))/10;return{version:i.q4,domain:j,phase1:{p:v,m:N,t:w,P:k},phase2:{answers:C,A_raw:q},phase3:{asked:E},final:{A_pct:s,bucket:l,order:t,domain_mean_raw:n,domain_mean_pct:d},audit:{nonce:o}}},[j,v,N,w,k,C,q,E,o]);if((0,n.useRef)(!1),!j)return(0,t.jsxs)("div",{className:"card",children:[(0,t.jsxs)("div",{className:"question-row",children:[t.jsx("div",{className:"q-left",children:t.jsx("span",{className:"domain-pill",children:"Assessment"})}),t.jsx("div",{className:"q-center",children:t.jsx("p",{children:"Choose a personality domain to explore"})}),t.jsx("div",{className:"q-right",children:t.jsx("div",{className:"count-pill",children:t.jsx("span",{className:"count",children:"0/1"})})})]}),t.jsx("div",{className:"facet-grid mt8",children:Object.keys(i.w7).map(e=>(0,t.jsxs)("button",{className:"btn-chip",onClick:()=>{f(e),b(null),y(null),S(null),M(null),O([]),L(null),A([]),H({}),D({}),$(0)},children:[t.jsx("b",{children:i.w7[e].label.split(" (")[0]}),t.jsx("small",{children:i.eR[e]?.shortDescription||"Personality assessment domain"}),(0,t.jsxs)("div",{className:"tags",children:[t.jsx("span",{className:"tag",children:e}),(0,t.jsxs)("span",{className:"tag",children:[i.w7[e].facets.length," facets"]})]})]},e))}),t.jsx("div",{className:"row mt16",style:{justifyContent:"center"},children:t.jsx("div",{children:t.jsx("span",{className:"pill",children:"Deterministic • No RNG"})})})]});if(!v)return(0,t.jsxs)("div",{className:"card",children:[(0,t.jsxs)("div",{className:"question-row",children:[t.jsx("div",{className:"q-left",children:t.jsx("span",{className:"domain-pill",children:i.w7[j].label.split(" (")[0]})}),t.jsx("div",{className:"q-center",children:t.jsx("p",{children:"Select the 3 traits that best describe you."})}),t.jsx("div",{className:"q-right",children:t.jsx("div",{className:"count-pill",children:t.jsx("span",{className:"count",children:`${T}/3`})})})]}),t.jsx(u,{domain:j,facets:Y,required:3,onSubmit:e=>{let s=Object.fromEntries(Y.map(e=>[e,0]));for(let l of e)s[l]=1;b(s)},onBack:()=>{f(null)},selectedCount:T,onSelectedCountChange:$},"phase1")]});if(!N){let e=Y.filter(e=>1===v[e]);return(0,t.jsxs)("div",{className:"card",children:[(0,t.jsxs)("div",{className:"question-row",children:[t.jsx("div",{className:"q-left",children:t.jsx("span",{className:"domain-pill",children:i.w7[j].label.split(" (")[0]})}),t.jsx("div",{className:"q-center",children:t.jsx("p",{children:i.cz[j].q2})}),t.jsx("div",{className:"q-right",children:t.jsx("div",{className:"count-pill",children:t.jsx("span",{className:"count",children:`${T}/2`})})})]}),t.jsx(u,{domain:j,facets:e,required:2,onSubmit:e=>{let s=Object.fromEntries(Y.map(e=>[e,0]));for(let l of e)s[l]=1;y(s)},onBack:()=>{b(null)},selectedCount:T,onSelectedCountChange:$},"phase2")]})}if(!w){let e=function(e,s,l){let t=(0,i.UX)(l),n=function(e,s,l){let t=Object.fromEntries(l.map(l=>[l,2*(e[l]||0)-2*(s[l]||0)]));return Object.fromEntries(l.map(l=>{let n=2-Math.abs(t[l]);return 0===(e[l]||0)&&(n+=.5),1===(s[l]||0)&&(n+=.5),[l,n]}))}(e,s,t),a=[];a=(a=a.concat(t.filter(l=>1===(e[l]||0)&&1===(s[l]||0)))).concat(t.filter(l=>0===(e[l]||0)&&0===(s[l]||0)));let r=t.filter(e=>!a.includes(e)).sort((e,s)=>n[s]-n[e]||t.indexOf(e)-t.indexOf(s));if((a=Array.from(new Set(a.concat(r)))).length>4&&(a=a.slice(0,4)),a.length<2){for(let e of t)if(a.includes(e)||a.push(e),a.length>=2)break}return a}(v,N,j),s=Math.min(2,e.length);return(0,t.jsxs)("div",{className:"card",children:[(0,t.jsxs)("div",{className:"question-row",children:[t.jsx("div",{className:"q-left",children:t.jsx("span",{className:"domain-pill",children:i.w7[j].label.split(" (")[0]})}),(0,t.jsxs)("div",{className:"q-center",children:[t.jsx("p",{children:i.cz[j].q3}),t.jsx("small",{className:"muted",children:"Why these? Picked & Dropped / Untouched."})]}),t.jsx("div",{className:"q-right",children:t.jsx("div",{className:"count-pill",children:t.jsx("span",{className:"count",children:`${T}/${s}`})})})]}),t.jsx(u,{domain:j,facets:e,required:s,tagsFor:e=>{let s=[];return 1===v[e]&&1===N[e]&&s.push("Picked & Dropped"),0===v[e]&&s.push("Untouched in Q1"),1!==N[e]||1===v[e]&&1===N[e]||s.push("Dropped in Q2"),s},onSubmit:e=>{let s=Object.fromEntries(Y.map(e=>[e,0]));for(let l of e)s[l]=1;S(s),M(Object.fromEntries(Y.map(e=>[e,2*(v[e]||0)+1*(s[e]||0)-2*(N[e]||0)])))},onBack:()=>{y(null)},selectedCount:T,onSelectedCountChange:$},`phase3-${e.join(",")}`)]})}if(!q){let e=Object.fromEntries(Y.map(e=>[e,k[e]>=2||k[e]<=-2?1:2])),s=[];for(let l of Y)for(let t=0;t<e[l];t++)s.push({facet:l,idx:t});return t.jsx(m,{domain:j,queue:s,onDone:e=>{let s=Object.fromEntries(Y.map(e=>[e,[]]));for(let l of e)s[l.facet].push(l.value);let l=Object.fromEntries(Y.map(e=>{let l=s[e];return 0===l.length?[e,3]:[e,Math.round(l.reduce((e,s)=>e+s,0)/l.length*100)/100]}));O(e),L(l)},onBack:()=>{S(null),M(null)}})}let U=(0,i.UX)(j).filter(e=>{let s=q[e],l=k[e];return s>3.5&&s<4&&l<=0||s>2&&s<2.5&&l>=0});if(E.length<U.length){let e=U[E.length],s=i.ae[j][e];return t.jsx(x,{facet:e,domainLabel:i.w7[j].label,question:s,onAnswer:s=>{A(l=>l.concat({facet:e,answer:s}))},onBack:()=>{L(null),O([])}})}let B=Object.fromEntries(Y.map(e=>[e,(0,a.Md)(q[e])])),R=c(Object.fromEntries(Y.map(e=>[e,r(q[e],k[e])])),q,k,E),V=Y.slice().sort((e,s)=>{let l={High:3,Medium:2,Low:1};return l[R[e]]!==l[R[s]]?l[R[e]]-l[R[s]]:q[s]!==q[e]?q[s]-q[e]:k[s]!==k[e]?k[s]-k[e]:Y.indexOf(e)-Y.indexOf(s)}),P=Math.round(Y.reduce((e,s)=>e+q[s],0)/6*100)/100;if((0,a.Md)(P),s&&I)return null;function _(e){let s=e.indexOf(".");return -1===s?e:e.slice(0,s+1)}return(0,t.jsxs)("div",{className:"card",children:[(0,t.jsxs)("div",{className:"card mt16",style:{background:"#0f141a",border:"1px solid #1a212a",borderRadius:10,padding:20},children:[(0,t.jsxs)("h3",{style:{margin:"0 0 16px 0",color:"#d6e5ff"},children:["Your ",i.w7[j].label," Summary"]}),t.jsx("div",{style:{fontSize:14,lineHeight:1.8,color:"#d6e5ff"},children:function(){let e=i.w7[j].label.split(" (")[0],s=(0,a._0)(P).replace("neutral","medium"),l=Y.filter(e=>"High"===R[e]).sort((e,s)=>q[s]-q[e]).slice(0,2),n=Y.filter(e=>"Medium"===R[e]).sort((e,s)=>Math.abs(3-q[e])-Math.abs(3-q[s])).slice(0,2),r=Y.filter(e=>"Low"===R[e]).sort((e,s)=>q[e]-q[s]).slice(0,2);return(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{children:[e," — Summary"]}),(0,t.jsxs)("p",{style:{marginTop:6},children:["Your overall level is ",t.jsx("b",{children:s.charAt(0).toUpperCase()+s.slice(1)}),". ",{high:"You can access this trait easily and consistently.",medium:"You can turn this trait on when needed, but it is not your default.",low:"This trait stays in the background unless the situation forces it."}[s]]}),(0,t.jsxs)("p",{children:["Domain average: ",(0,t.jsxs)("b",{children:[P.toFixed(2)," / 5"]})," (average of your behavior ratings)."]}),l.length?(0,t.jsxs)("div",{style:{marginTop:10},children:[t.jsx("div",{style:{fontWeight:600},children:"Strong behavior levers"}),t.jsx("ul",{style:{margin:"4px 0 0",paddingLeft:18},children:l.map(e=>(0,t.jsxs)("li",{children:[t.jsx("b",{children:e}),": ",_(i.W9[j][e].high)]},e))})]}):null,n.length?(0,t.jsxs)("div",{style:{marginTop:12},children:[t.jsx("div",{style:{fontWeight:600},children:"Workable levers"}),t.jsx("ul",{style:{margin:"4px 0 0",paddingLeft:18},children:n.map(e=>(0,t.jsxs)("li",{children:[t.jsx("b",{children:e}),": ",_(i.W9[j][e].medium)]},e))})]}):null,r.length?(0,t.jsxs)("div",{style:{marginTop:12},children:[t.jsx("div",{style:{fontWeight:600},children:"Development levers"}),t.jsx("ul",{style:{margin:"4px 0 0",paddingLeft:18},children:r.map(e=>(0,t.jsxs)("li",{children:[t.jsx("b",{children:e}),": ",_(i.W9[j][e].low)]},e))})]}):null]})}()})]}),(0,t.jsxs)("details",{style:{marginTop:16},children:[(0,t.jsxs)("summary",{style:{cursor:"pointer",color:"#a7c8ff",fontSize:12},children:["About ",i.w7[j].label,": ",t.jsx("span",{className:"muted",children:i.eR[j].shortDescription})]}),t.jsx("div",{style:{marginTop:8,fontSize:13,lineHeight:1.5,color:"#b6c2d1"},children:i.eR[j].fullDescription})]}),(0,t.jsxs)("div",{className:"card mt16",children:[t.jsx("h3",{children:"Legend"}),(0,t.jsxs)("div",{className:"grid",style:{gap:8},children:[(0,t.jsxs)("div",{children:[t.jsx("div",{style:{fontWeight:600,fontSize:13,color:"#d6e5ff"},children:"What the badges mean"}),(0,t.jsxs)("ul",{style:{margin:"6px 0",paddingLeft:18,color:"#b6c2d1",fontSize:13,lineHeight:1.5},children:[(0,t.jsxs)("li",{children:[t.jsx("b",{children:"High"}),": Strong, reliable part of your behavior. Easy to access; others notice it."]}),(0,t.jsxs)("li",{children:[t.jsx("b",{children:"Medium"}),": Situational. You can use it when needed but it's not your default move."]}),(0,t.jsxs)("li",{children:[t.jsx("b",{children:"Low"}),": De‑emphasized. You rarely use this lever unless context forces it."]})]})]}),(0,t.jsxs)("div",{children:[t.jsx("div",{style:{fontWeight:600,fontSize:13,color:"#d6e5ff"},children:"What the stars mean"}),(0,t.jsxs)("ul",{style:{margin:"6px 0",paddingLeft:18,color:"#b6c2d1",fontSize:13,lineHeight:1.5},children:[(0,t.jsxs)("li",{children:[t.jsx("b",{children:"Stars"})," show your average agreement on the direct behavior statements for that lever (1 = Very Inaccurate … 5 = Very Accurate)."]}),(0,t.jsxs)("li",{children:["Quick read: ",t.jsx("b",{children:"4–5"})," strong fuel source; ",t.jsx("b",{children:"≈3"})," workable/context‑dependent; ",t.jsx("b",{children:"1–2"})," weak fuel source."]})]})]})]})]}),t.jsx("div",{className:"grid cols-2 mt16",children:V.map(e=>{let s=R[e],l=s.toLowerCase();B[e];let n=q[e],r=(0,a.KL)(n),c=i.EF[j][e]||"",d=i.W9[j][e][r]||"",o=!!z[e],h=Math.round(n),u=Array.from({length:Math.max(0,Math.min(5,h))}),m=Array.from({length:Math.max(0,5-Math.max(0,Math.min(5,h)))}),x=!!W[e];return(0,t.jsxs)("div",{className:"card",title:"Click to expand",style:{cursor:"pointer",borderColor:x?"#2a3240":void 0},onMouseEnter:()=>D(s=>({...s,[e]:!0})),onMouseLeave:()=>D(s=>({...s,[e]:!1})),onClick:()=>H(s=>({...s,[e]:!s[e]})),children:[(0,t.jsxs)("div",{className:"row-nowrap",style:{justifyContent:"space-between",alignItems:"center"},"aria-expanded":o,children:[(0,t.jsxs)("div",{children:[t.jsx("b",{children:e}),t.jsx("span",{className:"muted",style:{marginLeft:6},children:o?"▾":"▸"}),o?null:t.jsx("span",{className:"pill",style:{marginLeft:8,background:"#2c250f",borderColor:"#846f1d",color:"#ffeaa7",fontSize:11},children:"Click to reveal"})]}),t.jsx("div",{className:`badge ${l}`,children:s})]}),t.jsx("div",{className:"row mt8",style:{alignItems:"center",gap:6},children:(0,t.jsxs)("div",{"aria-label":`Rating ${h} out of 5`,children:[u.map((e,s)=>t.jsx("span",{style:{color:"#f1c40f",fontSize:16},children:"★"},`fs-${s}`)),m.map((e,s)=>t.jsx("span",{style:{color:"#2a2f38",fontSize:16},children:"☆"},`es-${s}`))]})}),c?(0,t.jsxs)("div",{style:{marginTop:8,fontSize:12,color:"#b6c2d1",lineHeight:1.4},children:[t.jsx("strong",{children:"What this measures:"})," ",c]}):null,o&&d?(0,t.jsxs)("div",{style:{marginTop:6,fontSize:12,color:"#d6e5ff",lineHeight:1.4,fontStyle:"italic"},children:[t.jsx("strong",{children:"Your result:"})," ",d]}):null]},e)})}),t.jsx("div",{className:"divider"}),(0,t.jsxs)("div",{className:"row-nowrap",style:{justifyContent:"space-between"},children:[(0,t.jsxs)("small",{className:"muted",children:["Session hash (SHA-256): ",t.jsx("span",{className:"kbd",children:o||"..."})]}),(0,t.jsxs)("div",{className:"row-nowrap",style:{gap:8,alignItems:"center"},children:[t.jsx("button",{className:"btn",onClick:async()=>{if(!j||!v||!N||!w||!k||!q)return;let e=(0,i.UX)(j),s=Object.fromEntries(e.map(e=>[e,(0,a.Md)(q[e])])),l=c(Object.fromEntries(e.map(e=>[e,r(q[e],k[e])])),q,k,E),t=e.slice().sort((s,t)=>{let n={High:3,Medium:2,Low:1};return n[l[s]]!==n[l[t]]?n[l[s]]-n[l[t]]:q[t]!==q[s]?q[t]-q[s]:k[t]!==k[s]?k[t]-k[s]:e.indexOf(s)-e.indexOf(t)}),n=Math.round(e.reduce((e,s)=>e+q[s],0)/6*100)/100,h=Math.round(10*(0,a.Md)(n))/10,u={version:i.q4,domain:j,phase1:{p:v,m:N,t:w,P:k},phase2:{answers:C,A_raw:q},phase3:{asked:E},final:{A_pct:s,bucket:l,order:t,domain_mean_raw:n,domain_mean_pct:h}};g(await (0,d.J)((0,a.hd)(u))===o?"ok":"fail")},children:"Verify hash"}),"ok"===p?t.jsx("span",{className:"badge high",children:"Verified"}):null,"fail"===p?t.jsx("span",{className:"badge low",children:"Mismatch"}):null,t.jsx("small",{className:"muted",children:"Tie-breaks use canonical facet order."})]})]})]})}function u({domain:e,facets:s,required:l,onSubmit:i,onBack:a,tagsFor:r,selectedCount:c,onSelectedCountChange:d}){let[h,u]=(0,n.useState)([]),m=e=>{let s=h.includes(e)?h.filter(s=>s!==e):h.length>=l?h:h.concat(e);u(s),d(s.length)};return(0,t.jsxs)("div",{children:[t.jsx("div",{className:"facet-grid mt8",children:s.map(s=>t.jsx(o,{domain:e,facet:s,selected:h.includes(s),onToggle:()=>m(s),tags:r?r(s):[]},s))}),(0,t.jsxs)("div",{className:"row mt16",style:{justifyContent:"space-between"},children:[t.jsx("button",{className:"ghost",onClick:a,children:"Back"}),t.jsx("div",{className:"row-nowrap",style:{gap:8},children:t.jsx("button",{className:"primary",disabled:h.length!==l,onClick:()=>i(h),children:"Next"})})]})]})}function m({domain:e,queue:s,onDone:l,onBack:a}){let[r,c]=(0,n.useState)([]),d=r.length;if(d>=s.length)return null;let{facet:o,idx:h}=s[d],u=i.DO[e][o][h];return(0,t.jsxs)("div",{className:"card",children:[(0,t.jsxs)("div",{className:"row-nowrap",style:{justifyContent:"space-between",alignItems:"center"},children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{children:["Phase 2 — Accuracy item ",d+1," / ",s.length]}),(0,t.jsxs)("p",{children:[t.jsx("b",{children:o})," • Rate the statement for ",t.jsx("b",{children:i.w7[e].label}),"."]})]}),t.jsx("div",{className:"pill",children:"Scale: Very Inaccurate → Very Accurate"})]}),t.jsx("div",{className:"mt16",children:t.jsx("div",{className:"card",style:{background:"#0f141a",borderStyle:"dashed"},children:t.jsx("div",{style:{fontSize:18},children:u})})}),t.jsx("div",{className:"row mt16",children:[{text:"Very Inaccurate",val:1},{text:"Moderately Inaccurate",val:2},{text:"Neutral",val:3},{text:"Moderately Accurate",val:4},{text:"Very Accurate",val:5}].map(e=>t.jsx("button",{className:`rate btn${r[d]?.value===e.val?" selected":""}`,onClick:()=>{c(s=>s.concat({facet:o,idx:h,value:e.val}))},children:e.text},e.val))}),t.jsx("div",{className:"row mt16",style:{justifyContent:"flex-start"},children:t.jsx("button",{className:"ghost",onClick:()=>{r.length>0?c(e=>e.slice(0,-1)):a()},children:"Back"})})]})}function x({facet:e,domainLabel:s,question:l,onAnswer:i,onBack:a}){let[r,c]=(0,n.useState)(null);return(0,t.jsxs)("div",{className:"card",children:[(0,t.jsxs)("div",{className:"row-nowrap",style:{justifyContent:"space-between",alignItems:"center"},children:[(0,t.jsxs)("div",{children:[t.jsx("h2",{children:"Phase 3 — Confirm"}),(0,t.jsxs)("p",{children:[t.jsx("b",{children:e})," • Quick behavioral check."]})]}),t.jsx("div",{className:"pill",children:"Answers: Yes / No / Maybe"})]}),t.jsx("div",{className:"mt16",children:t.jsx("div",{className:"card",style:{background:"#0f141a",borderStyle:"dashed"},children:t.jsx("div",{style:{fontSize:18},children:l})})}),t.jsx("div",{className:"row mt16",children:["Yes","No","Maybe"].map(e=>t.jsx("button",{className:`rate btn${r===e?" selected":""}`,onClick:()=>c(e),children:e},e))}),(0,t.jsxs)("div",{className:"row mt16",style:{justifyContent:"space-between"},children:[t.jsx("button",{className:"ghost",onClick:a,children:"Back"}),t.jsx("button",{className:"primary",disabled:!r,onClick:()=>r&&i(r),children:"Next"})]})]})}},1138:(e,s,l)=>{l.d(s,{J:()=>t});async function t(e){let s=new TextEncoder().encode(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",s))).map(e=>e.toString(16).padStart(2,"0")).join("")}}};